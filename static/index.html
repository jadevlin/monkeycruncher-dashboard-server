<!DOCTYPE html>
<html>
<head>
    <title>MonkeyCruncher dashboard</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="/lib/bootstrap.min.js"></script>
    <script src="/lib/knockout-2.2.0.min.js"></script>
    <script src="/js/app.js"></script>
</head>

<body>

<div class='container'>
    <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class='container-fluid'>
                <a class="brand" href="#">MonkeyCruncher dashboard</a>
                <ul class="nav">
                    <li><a data-bind="visible: user().username">
                        Logged in as <span data-bind='text: user().username'></span></a></li>
                </ul>
                <ul class="nav pull-right">
                    <li>
                        <form class='navbar-form'><a class='btn btn-danger' data-bind="click: logout">Logout</a></form>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class='row'>
        <div class='span12'>
            <h1 style='padding-top: 40px'>Your worksheets</h1>
        </div>
    </div>
    <div class='row'>
        <div class='span12'>
            <table class="table table-striped table-bordered">
                <tbody data-bind="foreach: worksheets">
                <tr>
                    <td><a target="_blank" data-bind='text: name, click: $parent.editWorksheet'></a>
                <span class='pull-right'>
                <a class='btn btn-mini btn-danger' data-bind='click: $parent.deleteWorksheet'>Delete</a>
                </span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class='row'>
        <div class='span4'>
            <a class="btn btn-success" data-bind="click: createWorksheet">Create new worksheet</a>
        </div>
    </div>
</div>

<!-- login modal -->
<div class="modal hide" id="loginModal" data-backdrop='static'>
    <div class="modal-header">
        <h3>You are not logged in</h3>
    </div>
    <div class="modal-body">
        <p>You need to be logged in to use this page.</p>
    </div>
    <div class="modal-footer">
        <a href="/login.html" class="btn btn-primary">Go to login page</a>
    </div>
</div>

<!-- createWorksheet modal -->
<div class="modal hide" id="createWorksheetModal">
    <form id="createWorksheetForm" class='modal-form' data-bind="event: {submit: createWorksheetConfirm}">
        <div class="modal-header">
            <a class="close" data-dismiss="modal">×</a>
            <h3>Worksheet name</h3>
        </div>
        <div class="modal-body">
            <input type="text" name="worksheetName" id="inputWorksheetName" placeholder="Worksheet name">
        </div>
        <div class="modal-footer">
            <a href="#" class="btn" data-dismiss="modal">Cancel</a>
            <input type="submit" value="Create" class="btn btn-success" />
        </div>
    </form>
</div>

<!-- deleteWorksheet modal -->
<div class="modal hide" id="deleteWorksheetModal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">×</a>
        <h3>Are you sure?</h3>
    </div>
    <div class="modal-body">
        <p>Are you sure you want to delete this worksheet?
            <p class='text-error' id="worksheetForDeletionName"></p>
        </p>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Cancel</a>
        <a href="#" class="btn btn-danger" id="deleteWorksheetButton">Delete</a>
    </div>
</div>

</body>
</html>